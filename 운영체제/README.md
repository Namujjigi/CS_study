# 운영체제



## 운영체제 정의

운영체제 = 시스템SW: 유저와 컴퓨터 하드웨어간 바로 작동할 수 있게 해주는 프로그램,
                   지속적으로 업데이트를 한다★

- 자원관리 1) H/W : CPU, 메모리, 주변장치 등
      2) S/W: 프로그램

- 컴퓨터시스템 구조: 하드웨어,OS, 어플리케이션 프로그램, 사용자

- 컴퓨터시스템 기능: I/O장치와 CPU가 동시에 실행 가능하게함
      운영체제 장치 드라이버로 각 장치 컨트롤러 관리
      CPU는 주 메모리에서 필요한 데이터를 각 장치의 로컬버퍼로 이동
      I/O는 장치에서 컨트롤러의 로컬버퍼로, 컨트롤러는 CPU로 인터럽트를 발생시켜 작업의 끝을 알림

## 인터럽트

- 인터럽트: 프로세스 수행 중, 다른 프로세스를 수행하기 위해 현재 수행 중인 프로세스를
      중단하거나 외부 입력장치에 의해 중단되는 상태. 이 때, 중단된 프로세스를 다시 실행하기 위해
      발생 시점 정보를 저장한다!!(레지스터 문맥) 스택구조로!

- 인터럽트상태 모든 통제권은 OS가 갖는다

- 입출력연산, 하드웨어 실패, 프로그램 오류 등에 의해서 발생한다

- 발생순서

> OS가 제어권을 받는다> 현재 프로세스 상태를 저장한다> 인터럽트 발생원인을 찾아 지정 루틴으로 제어권을 준다
> 인터럽트를 처리한다 > 이전 프로세스 상태로 복구된다 > 계속 이전 실행된다

## 부팅

- 부팅
  초기-> ROM(Read only memory, 비휘발성)에 운영체제를 집어넣음
  현재-> 디스크에서 RAM에 운영체제를 넣음
  부팅 : 디스크에있는 운영체제프로그램을 RAM공간에 적재
  전원키면 ROM에서 POST(자기 테스트)수행 > ROM-BIOS(basic input output system)기초테스트
- BootStrap: 부팅을 위해 운영체제를 실행시키는 프로그램



## 기억장치

- ROM: 저장시켜논걸 읽기만 가능(수정x), 비휘발성
- RAM: 읽기,쓰기,수정 가능한 메모리 휘발성 (작업공간), RAM영역에 
      프로그램을 로드해서 실행중인 것을 프로세스라고 함
- 펌웨어 :  H/W + S/W => ROM에 저장된 하드웨어를 제어하는 프로그램
- RAM은 휘발성이기 때문에 데이터가 사라지기 전 디스크에 옮김(보조기억장치)
- 캐싱: 데이터를 빠른 저장장치에 복사
- 저장장치 속도차이: 레지스터>캐시>주기억장치>비휘발성메모리>하드디스크>광디스크>마그네틱 테이프
- 직접메모리 접근: 고속I/O장치에 사용, CPU개입 없이 버퍼에서 주기억장치로 직접 데이터 전송
- CMOS -> ROM안의 내용을 수정하기 위해(몇가지만) 부팅중 특정 키를 입력해서 접속

## 스케줄링

- 프로세스 스케줄링: 프로세스 처리 계획
- 운영체제의 목표: 정해진 자원내에서 효율적인 프로세스 처리
      (처리량↑,신뢰성↑,반환시간↓,가용도↑) =>성능평가 요소

## OS 서비스

 - 통신 - 프로세스간 데이터통신, 통신은 공유메모리 또는 패킷송수신으로 이루어진다
 - 오류감지 - 오류를 감지하고 적절한 조치
 - 자원할당 - 여러 작업이 동시에 실행되는 경우 각각에 자원을 할당. 주로 CPU 싸이클, 주기억장치, 파일저장소, IO장치에 많이 할당된다.
 - 보안 - 외부로부터 데이터를 보호하고 데이터접근에 대한 권한, 인증을 수행

## System Call

 - 사용자모드에서 커널모드의 기능을 사용할 수 있게 해주는 것
 - 일반적으로 C,C++으로 작성
 - malloc을 통해 메모리할당을 요청하거나 사용자모드에서 I/O 장치접근
 - Win32, JVM 등이 있다
 - OS에 매개변수를 전달하는 방법: 레지스터를 사용, 블록이나 메모리에 매개변수를 담고 주소를 전송, 프로그램의 스택에 푸시나 팝
 - 유형으로 프로세스제어, 파일조작, 장치관리, 정보유지, 통신이있다

![image](https://user-images.githubusercontent.com/82094185/150729695-f6d02a89-9cd8-4321-a48c-92eb401eb0d7.png)

  							<시스템호출 유형별 명령어>
